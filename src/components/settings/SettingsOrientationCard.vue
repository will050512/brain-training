<script setup lang="ts">
import { useSettingsStore } from '@/stores'

const settingsStore = useSettingsStore()
</script>

<template>
  <div class="card p-3 sm:p-4">
    <div class="flex items-center gap-2 mb-3">
      <span class="text-xl">ğŸ“±</span>
      <h3 class="font-semibold text-[var(--color-text)]">è¢å¹•æ–¹å‘</h3>
    </div>

    <div class="grid grid-cols-3 gap-2">
      <button
        type="button"
        class="btn-option flex flex-col items-center gap-1 py-3 px-2 rounded-xl border-2 transition-all"
        :class="settingsStore.orientationPreference === 'portrait'
          ? 'border-[var(--color-primary)] bg-[var(--color-primary-bg)] text-[var(--color-primary-dark)]'
          : 'border-[var(--color-border)] hover:bg-[var(--color-bg-soft)]'"
        @click="settingsStore.setOrientationPreference('portrait')"
      >
        <span class="text-2xl">ğŸ“±</span>
        <span class="text-sm font-medium">ç›´å‘</span>
      </button>

      <button
        type="button"
        class="btn-option flex flex-col items-center gap-1 py-3 px-2 rounded-xl border-2 transition-all"
        :class="settingsStore.orientationPreference === 'landscape'
          ? 'border-[var(--color-primary)] bg-[var(--color-primary-bg)] text-[var(--color-primary-dark)]'
          : 'border-[var(--color-border)] hover:bg-[var(--color-bg-soft)]'"
        @click="settingsStore.setOrientationPreference('landscape')"
      >
        <span class="text-2xl">ğŸ“º</span>
        <span class="text-sm font-medium">æ©«å‘</span>
      </button>

      <button
        type="button"
        class="btn-option flex flex-col items-center gap-1 py-3 px-2 rounded-xl border-2 transition-all"
        :class="settingsStore.orientationPreference === 'auto'
          ? 'border-[var(--color-primary)] bg-[var(--color-primary-bg)] text-[var(--color-primary-dark)]'
          : 'border-[var(--color-border)] hover:bg-[var(--color-bg-soft)]'"
        @click="settingsStore.setOrientationPreference('auto')"
      >
        <span class="text-2xl">ğŸ”„</span>
        <span class="text-sm font-medium">è‡ªå‹•</span>
      </button>
    </div>

    <p
      v-if="!settingsStore.orientationSupported"
      class="text-xs text-[var(--color-warning)] bg-[var(--color-warning-bg)] p-2 rounded-lg mt-3 flex items-start gap-2"
    >
      <span class="mt-0.5">âš ï¸</span>
      <span>æ‚¨çš„è£ç½®ä¸æ”¯æ´è‡ªå‹•æ—‹è½‰é–å®šï¼Œè«‹ä½¿ç”¨ç³»çµ±è¨­å®šèª¿æ•´ã€‚</span>
    </p>
  </div>
</template>
