<template>
  <div class="card p-8 section-stack items-center text-center">
    <div class="text-6xl mb-2 animate-bounce">ğŸ”’</div>
    <h2 class="text-lg font-bold">åŠŸèƒ½å°šæœªè§£é–</h2>
    <p class="text-[var(--color-text-secondary)] text-sm max-w-xs mx-auto">
      ç‚ºäº†æä¾›ç²¾æº–çš„å€‹äººåŒ–ç‡Ÿé¤Šå»ºè­°ï¼Œæˆ‘å€‘éœ€è¦æ”¶é›†æ›´å¤šæ‚¨çš„è¨“ç·´æ•¸æ“šã€‚
    </p>

    <div class="w-full max-w-xs bg-[var(--color-surface-soft)] rounded-full h-3 overflow-hidden mt-4">
      <div
        class="h-full bg-primary transition-all duration-1000"
        :style="{ width: `${progressPercent}%` }"
      ></div>
    </div>
    <p class="text-xs font-bold text-primary mt-2">
      è¨“ç·´é€²åº¦ï¼š{{ completedSessionsCount }} / {{ requiredSessions }} å ´
    </p>

    <div class="bg-[var(--color-surface-soft)] p-4 rounded-xl text-left w-full max-w-xs mt-2">
      <h3 class="font-bold text-sm mb-2">è§£é–å¾Œæ‚¨å°‡ç²å¾—ï¼š</h3>
      <ul class="list-disc pl-5 text-xs space-y-1 text-[var(--color-text-secondary)]">
        <li>âœ¨ åŸºæ–¼èªçŸ¥è¡¨ç¾çš„ç²¾æº–ç‡Ÿé¤Šå»ºè­°</li>
        <li>ğŸ’Š é‡å°å¼±é …ç¶­åº¦çš„è£œå……æ–¹æ¡ˆ</li>
        <li>ğŸ‘¨â€âš•ï¸ å°ˆæ¥­é†«å¸«èˆ‡ç‡Ÿé¤Šå¸«çš„å»ºè­°</li>
      </ul>
    </div>

    <button class="btn btn-primary w-full max-w-xs mt-4 min-h-[44px]" @click="onGoTraining">
      å‰å¾€æ¯æ—¥è¨“ç·´
    </button>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'

const props = defineProps<{
  completedSessionsCount: number
  requiredSessions: number
  onGoTraining: () => void
}>()

const progressPercent = computed(() =>
  Math.min((props.completedSessionsCount / props.requiredSessions) * 100, 100)
)
</script>
